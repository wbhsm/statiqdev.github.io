<!DOCTYPE html><html><head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=Edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">

        <link href="/assets/bootstrap/bootstrap.css" rel="stylesheet">
        <link href="https://fonts.googleapis.com/css2?family=Roboto+Mono:wght@400;700&amp;family=Roboto+Slab:wght@400;700&amp;family=Roboto:ital,wght@0,300;0,400;0,700;1,300;1,400;1,700&amp;display=swap" rel="stylesheet" data-no-mirror="">
        <link rel="stylesheet" href="/mirror/cdn.jsdelivr.net/npm/prismjs@1.19.0/themes/prism.css">
        <link href="/assets/css/styles.css" rel="stylesheet">

        <script src="/mirror/code.jquery.com/jquery-3.4.1.slim.min.js" integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n" crossorigin="anonymous"></script>
        <script src="/mirror/cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
        <script src="/mirror/stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>
        <script src="https://kit.fontawesome.com/a1cad7ed9a.js" crossorigin="anonymous" data-no-mirror=""></script>
        <script src="/mirror/cdn.jsdelivr.net/npm/mermaid@8.4.8/dist/mermaid.min.js"></script>
        <script src="/mirror/cdn.jsdelivr.net/npm/svg-pan-zoom@3.6.1/dist/svg-pan-zoom.min.js"></script>
        <script src="/mirror/cdn.jsdelivr.net/npm/prismjs@1.19.0/components/prism-core.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/prismjs@1.19.0/plugins/autoloader/prism-autoloader.min.js" data-no-mirror=""></script>
        
		

        <title>Statiq - Pipelines and Modules</title>
    </head>
    <body class="d-flex flex-column">
        <div class="flex-grow-1 d-flex flex-column">
            <div class="bg-nav">
                <div class="container-xl py-3">
                    <div class="row">
                        <div class="offset-lg-2 col-12 col-lg-8 px-0">
                            <nav class="navbar navbar-expand-md navbar-light align-items-start">
                                <a class="navbar-brand" href="/"><img id="logo" src="/assets/statiq.svg" alt="Statiq Framework"></a>
                                <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#collapse-topnav" aria-controls="collapse-topnav" aria-expanded="false" aria-label="Toggle navigation">
                                    <span class="navbar-toggler-icon"></span>
                                </button>
                                <div id="collapse-topnav" class="collapse navbar-collapse flex-wrap">
                                    <ul class="navbar-nav mr-auto">
                                        <li id="nav-web" class="nav-item">
                                            <a class="nav-link text-blue font-weight-light font-size-lg" href="/web">Web</a>
                                        </li>
                                        <li class="nav-item mx-3 border-right d-none d-md-block"></li>
                                        <li id="nav-docs" class="nav-item">
                                            <a class="nav-link text-orange font-weight-light font-size-lg" href="/docs">Docs</a>
                                        </li>
                                        <li class="nav-item mx-3 border-right d-none d-md-block"></li>
                                        <li id="nav-framework" class="nav-item">
                                            <a class="nav-link text-purple font-weight-light font-size-lg" href="/framework">Framework</a>
                                        </li>
                                    </ul>
                                    <ul class="navbar-nav">
                                        <li class="nav-item">
                                            <a class="nav-link" href="/blog">Blog</a>
                                        </li>
                                        <li class="nav-item">
                                            <a class="nav-link" href="https://github.com/statiqdev"><i class="fab fa-github"></i> GitHub</a>
                                        </li>
                                        <li class="nav-item">
                                            <a class="nav-link" href="https://twitter.com/statiqdev"><i class="fab fa-twitter"></i> Twitter</a>
                                        </li>
                                        <li class="nav-item">
                                            <a class="nav-link font-weight-bold text-red" href="/support"><i class="fad fa-heart icon-red"></i> Support</a>
                                        </li>
                                    </ul>
                                </div>
                            </nav>
                        </div>
                    </div>
                </div>
            </div>
            <div class="flex-grow-1 d-flex flex-column section-undefined section-framework">
                    <div id="titlebar" class="py-4">
                        <div class="container-xl">
                            <div class="row">
                                <div class="offset-md-3 offset-lg-2 offset-lg-2 col-12 col-lg-8 px-3 px-lg-0 w-100 d-flex align-items-end">
                                    <div class="flex-grow-1">
                                        <div class="breadcrumbs text-uppercase d-flex flex-column-reverse flex-md-row-reverse justify-content-md-end">
                                                    <span><a href="/framework">Framework</a></span>
                                        </div>
                                        <div class="text-white m-0 title">Pipelines and Modules</div>
                                    </div>
                                        <div class="navbar navbar-expand-md navbar-dark p-0">
                                            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#collapse-sidebar" aria-controls="collapse-sidebar" aria-expanded="false" aria-label="Toggle navigation">
                                                <span class="navbar-toggler-icon"></span>
                                            </button>
                                        </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div id="undertitle">
                        <div class="container-xl">                            
                            <div class="row">
                                    <div class="col-md-3 col-lg-2 bg-section">
                                    </div>
                                    <div class="col-md-9 col-lg-8 bg-white">
                                    </div>
                                <div class="col-lg-2 d-none d-lg-block bg-section">
                                </div>
                            </div>
                        </div>
                    </div>
                <div class="flex-grow-1 d-flex flex-column">
                        <div class="container-xl flex-grow-1 d-flex flex-column">
                            <div class="row flex-grow-1 align-items-stretch">
                                        <div class="col-md-3 col-lg-2 bg-body">
                                            <div id="collapse-sidebar" class="sidebar collapse px-0 px-md-3 pt-3">
                                                    <div class="sidebar-nav-item">
                                                        <a href="/framework">About Statiq Framework</a>
                                                    </div>
                                                        <div class="sidebar-nav-item active has-children">
                                                            <a href="/framework/pipelines">Pipelines and Modules</a>
                                                        </div>
                                                            <div class="sidebar-nav-children">
                                                                    <div class="sidebar-nav-item">
                                                                        <a href="/framework/pipelines/defining-pipelines">Defining Pipelines</a>
                                                                    </div>
                                                                    <div class="sidebar-nav-item has-children">
                                                                        <a href="/framework/pipelines/modules">About Modules</a>
                                                                    </div>
                                                                        <div class="sidebar-nav-children">
                                                                                <div class="sidebar-nav-item">
                                                                                    <a href="/framework/pipelines/modules/module-patterns">Module Patterns</a>
                                                                                </div>
                                                                                <div class="sidebar-nav-item">
                                                                                    <a href="/framework/pipelines/modules/writing-modules">Writing Modules</a>
                                                                                </div>
                                                                        </div>
                                                            </div>
                                                        <div class="sidebar-nav-item has-children">
                                                            <a href="/framework/documents">Documents and Metadata</a>
                                                        </div>
                                                            <div class="sidebar-nav-children">
                                                                    <div class="sidebar-nav-item">
                                                                        <a href="/framework/documents/front-matter">Front Matter</a>
                                                                    </div>
                                                                    <div class="sidebar-nav-item">
                                                                        <a href="/framework/documents/metadata-values">Metadata Values</a>
                                                                    </div>
                                                                    <div class="sidebar-nav-item">
                                                                        <a href="/framework/documents/accessing-metadata">Accessing Metadata</a>
                                                                    </div>
                                                            </div>
                                                        <div class="sidebar-nav-item has-children">
                                                            <a href="/framework/content">Working With Content</a>
                                                        </div>
                                                            <div class="sidebar-nav-children">
                                                                    <div class="sidebar-nav-item">
                                                                        <a href="/framework/content/linking">Linking To Documents</a>
                                                                    </div>
                                                                    <div class="sidebar-nav-item">
                                                                        <a href="/framework/content/shortcodes">Shortcodes</a>
                                                                    </div>
                                                                    <div class="sidebar-nav-item">
                                                                        <a href="/framework/content/template-languages">Template Languages</a>
                                                                    </div>
                                                            </div>
                                                        <div class="sidebar-nav-item has-children">
                                                            <a href="/framework/configuration">Configuration</a>
                                                        </div>
                                                            <div class="sidebar-nav-children">
                                                                    <div class="sidebar-nav-item has-children">
                                                                        <a href="/framework/configuration/bootstrapper">Bootstrapper</a>
                                                                    </div>
                                                                        <div class="sidebar-nav-children">
                                                                                <div class="sidebar-nav-item">
                                                                                    <a href="/framework/configuration/bootstrapper/configurators">Configurators</a>
                                                                                </div>
                                                                                <div class="sidebar-nav-item">
                                                                                    <a href="/framework/configuration/bootstrapper/commands">Commands</a>
                                                                                </div>
                                                                                <div class="sidebar-nav-item">
                                                                                    <a href="/framework/configuration/bootstrapper/registering-services">Registering Services</a>
                                                                                </div>
                                                                                <div class="sidebar-nav-item">
                                                                                    <a href="/framework/configuration/bootstrapper/adding-pipelines">Adding Pipelines</a>
                                                                                </div>
                                                                        </div>
                                                                    <div class="sidebar-nav-item">
                                                                        <a href="/framework/configuration/settings">Settings</a>
                                                                    </div>
                                                                    <div class="sidebar-nav-item">
                                                                        <a href="/framework/configuration/configuration-delegates">Configuration Delegates</a>
                                                                    </div>
                                                            </div>
                                                        <div class="sidebar-nav-item has-children">
                                                            <a href="/framework/execution">Execution</a>
                                                        </div>
                                                            <div class="sidebar-nav-children">
                                                                    <div class="sidebar-nav-item">
                                                                        <a href="/framework/execution/engine">Engine</a>
                                                                    </div>
                                                                    <div class="sidebar-nav-item">
                                                                        <a href="/framework/execution/execution-context">Execution Context</a>
                                                                    </div>
                                                                    <div class="sidebar-nav-item">
                                                                        <a href="/framework/execution/events">Events</a>
                                                                    </div>
                                                                    <div class="sidebar-nav-item">
                                                                        <a href="/framework/execution/files">Files and Paths</a>
                                                                    </div>
                                                            </div>
                                                        <div class="sidebar-nav-item has-children">
                                                            <a href="/framework/running">Running Your Application</a>
                                                        </div>
                                                            <div class="sidebar-nav-children">
                                                                    <div class="sidebar-nav-item">
                                                                        <a href="/framework/running/command-line">Command-Line Interface</a>
                                                                    </div>
                                                                    <div class="sidebar-nav-item">
                                                                        <a href="/framework/running/debugging">Debugging</a>
                                                                    </div>
                                                            </div>
                                            </div>
                                        </div>
                                        <div id="content" class="col-md-9 col-lg-8 p-4 pt-md-0 bg-white">
                                            <p>Pipelines and modules are the building blocks of a Statiq application. A generator defines pipelines that contain modules, and together they operate on documents to turn input into the final product.</p>
<p>A given <a href="/framework/execution">execution</a> can have multiple pipelines which are executed in sequence, and subsequent pipelines have access to the documents from the previous pipelines. Conceptually, a simple pipeline looks like:</p>
<div class="mermaid">
    graph TD
        D1("Empty Document")
        D1--&gt;Module1["Module 1"]
        Module1--&gt;D2("Document A")
        Module1--&gt;D3("Document B")
        D2--&gt;Module2["Module 2"]
        D3--&gt;Module2
        Module2--&gt;D4("Document C")
        Module2--&gt;D5("Document D")
</div>
<p>In the visualization above, the first module may have read some files (in this case 2 files) and stuck some information about those files such as name and path in the document metadata. Then the second module may have transformed the files (for example, from Markdown to HTML).</p>
<p>It's not unusual for a real-world generation to contain many different pipelines. Many times this is helpful if you need to reuse the output from one of the pipelines or want to separate the different generation steps.</p>
<div class="mermaid">
    graph TD
        subgraph Second Pipeline
            D6("Empty Document")
            D6--&gt;Module3["Module 3"]
            Module3--&gt;D7("Document E")
            D7--&gt;Module4["Module 4"]
            Module4--&gt;D8("Document F")
        end
        subgraph First Pipeline
            D1("Empty Document")
            D1--&gt;Module1["Module 1"]
            Module1--&gt;D2("Document A")
            Module1--&gt;D3("Document B")
            D2--&gt;Module2["Module 2"]
            D3--&gt;Module2
            Module2--&gt;D4("Document C")
            Module2--&gt;D5("Document D")
        end
</div>
<h1 id="concurrency-and-dependencies">Concurrency and Dependencies</h1>
<p>Pipelines generally execute most <a href="#phases">phases</a> in parallel for performance reasons. However, a pipeline can depend on other pipelines by adding the name of pipelines it depends on to the <code>Dependencies</code> collection. This will result in the dependent pipeline(s) executing before the pipeline(s) that depend on them. At startup a pipeline dependency graph is formed and any circular dependencies will cause an error.</p>
<h1 id="phases">Phases</h1>
<p>Executing the modules in a pipeline happens in four phases. The phases are distinct due to the way concurrency and output documents are handled. The input documents to the first module in each phase are the output documents from the previous phase.</p>
<h2 id="input-phase">Input Phase</h2>
<p>The input phase is generally used for fetching data from an outside source and creating documents from that data. For example: the file system, a database, a web API, etc. The input phase is immediatly started for all pipelines concurrently and cannot access outputs from other pipelines.</p>
<h2 id="process-phase">Process Phase</h2>
<p>This is the main phase and it should contain most of the modules for a pipeline. All process phases across all pipelines are generally executed in parallel unless a pipeline declares dependencies in which case its process phase will be executed after the process phase of its dependencies. A module can access output documents from the process phase of its dependencies but not from other pipelines.</p>
<h2 id="post-process-phase">Post-Process Phase</h2>
<p>The post-process phase can be used for modules that need access to output documents from the process phase of every pipeline regardless of dependencies (except <a href="#isolated">isolated pipelines</a>). All post-process phases across all pipelines are executed in parallel, but only after all process phases have completed.</p>
<h2 id="output-phase">Output Phase</h2>
<p>The output phase is used for outputting documents to disk, a service, etc. All output phases across all pipelines are executed in parallel. Modules in the output phase cannot access output documents from any other pipelines (except for those in a <a href="#deployment">deployment</a> pipeline).</p>
<h1 id="special-types-of-pipelines">Special Types Of Pipelines</h1>
<p>In addition to the phases above, there are several special types of pipelines you can define.</p>
<h2 id="isolated">Isolated</h2>
<p>An isolated pipeline is one that you know don't need access to output documents from any other pipelines. You can declare a pipeline to be isolated by setting the <code>Isolated</code> flag to <code>true</code>. As isolated pipeline will execute all for phases as quickly as possible in parallel with other pipelines. This kind of pipeline is useful for things like processing Less or Sass files that don't rely on coordination with other pipelines.</p>
<h2 id="deployment">Deployment</h2>
<p>Deployment pipelines are special in that they don't execute by default. To execute your deployment pipelines you run Statiq with the <code>deploy</code> command. Modules in deployment pipelines can also read document outputs from other pipelines inside their output phase (unlike normal pipelines). In general, modules that deploy final output somewhere (like a web host) are added to the output phase of a deployment pipeline.</p>
<h2 id="execution-policy">Execution Policy</h2>
<p>A pipeline's execution policy determines if a pipeline is executed. By default, non-deployment pipelines are executed automatically and deployment pipelines are only executed when Statiq is launched with the <code>deploy</code> command. Pipelines are also executed if they are a dependency of an executing pipeline, regardless of policy.</p>
<p>You can adjust this behavior and create sophisticated behaviors for your Statiq application by changing the <code>ExecutionPolicy</code> property for each pipeline.</p>
<h3 id="default">Default</h3>
<p>Default pipelines are normally executed (I.e., they effectively have a policy of <code>Normal</code>, see below) <em>unless</em> the pipeline is a <a href="#deployment">Deployment pipeline</a> in which case the pipeline is manually executed or executed when the <code>deploy</code> command is run from the command-line interface. This policy is the most common and should be used for most pipelines.</p>
<h3 id="normal">Normal</h3>
<p>Normal pipelines are always executed unless other pipelines are explicitly specified. A normal pipeline will also be executed if it’s the dependent of an executing pipeline.</p>
<h3 id="manual">Manual</h3>
<p>Manual pipelines are only executed if explicity specified. A manual pipeline will also be executed if it’s the dependent of an executing pipeline. This policy is useful for specialized pipelines that should only be executed on-demand and are not part of the normal generation process.</p>
<h3 id="always">Always</h3>
<p>This policy means that the pipeline should always execute regardless of what pipelines are explicitly specified (if any). Pipelines with an always policy are useful for housekeeping and other tasks that should be carried out no matter what.</p>


                                                <h4 class="h-section mb-2">Child Pages</h4>
                                                    <div>
                                                        <div class="p-3 mb-2 bg-light page-box">
                                                            <h4><a href="/framework/pipelines/defining-pipelines">Defining Pipelines</a></h4>
                                                                <div class="font-size-sm"><p>Pipelines are classes that implement the <code>IPipeline</code> interface, though you typically create one by deriving from the abstract <code>Pipeline</code> class which initializes several defaults for you.</p></div>
                                                        </div>
                                                    </div>
                                                    <div>
                                                        <div class="p-3 mb-2 bg-light page-box">
                                                            <h4><a href="/framework/pipelines/modules">About Modules</a></h4>
                                                                <div class="font-size-sm"><p>A module is a component that performs a specific action, usually by creating, processing, or manipulating documents.</p></div>
                                                        </div>
                                                    </div>
                                        </div>
                                <div class="col-lg-2 d-none d-lg-block bg-body pl-3 pt-3">
                                            <div class="border-bottom mb-3">
                                                <p class="small font-weight-bold">On This Page</p>
                                                    <p class="small"><a href="#concurrency-and-dependencies">Concurrency and Dependencies</a></p>
                                                    <p class="small"><a href="#phases">Phases</a></p>
                                                    <p class="small"><a href="#special-types-of-pipelines">Special Types Of Pipelines</a></p>
                                            </div>
                                        <p class="small font-weight-bold"><a href="https://github.com/statiqdev/statiqdev.github.io/edit/develop/input/framework/pipelines/index.md"><i class="fad fa-pencil"></i> Edit This Page</a></p>
                                </div>
                            </div>
                        </div>
                </div>
            </div>
        </div>
        <div id="footer" class="p-3 text-white">
            <div class="container-xl">
                <div class="row">
                    <div class="offset-lg-2 col-12 col-lg-8">
                        <div class="text-light text-center">
                            <a href="/web" class="text-light pr-2 mr-1 border-right">Web</a>
                            <a href="/docs" class="text-light pr-2 mr-1 border-right">Docs</a>
                            <a href="/framework" class="text-light">Framework</a>
                        </div>
                        <div class="text-light text-center font-size-sm">
                            <a href="/blog" class="text-light pr-2 mr-1">Blog</a>
                            <a href="https://github.com/statiqdev" class="text-light pr-2 mr-1"><i class="fab fa-github"></i> GitHub</a>
                            <a href="https://twitter.com/statiqdev" class="text-light pr-2 mr-1"><i class="fab fa-twitter"></i> Twitter</a>
                            <a class="text-light font-weight-bold" href="/support"><i class="fad fa-heart"></i> Support</a>
                        </div>
                        <div class="pt-2 font-size-sm text-muted text-center">
                            © 2020 Statiq/Dave Glick
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <script>
            $(document).ready(function() {
                mermaid.initialize(
                {
                    flowchart:
                    {
                        useMaxWidth: false
                    },
					startOnLoad: false,
					cloneCssStyles: false
                });     
                mermaid.init(undefined, ".mermaid");

                // Remove the max-width setting that Mermaid sets
                var mermaidSvg = $('.mermaid svg');
                mermaidSvg.addClass('img-responsive');
                mermaidSvg.css('max-width', '');

                // Make it scrollable
				var target = document.querySelector(".mermaid svg");
				if(target !== null)
				{
					var panZoom = window.panZoom = svgPanZoom(target, {
						zoomEnabled: true,
						controlIconsEnabled: true,
						fit: true,
						center: true,
                        maxZoom: 20,
                        zoomScaleSensitivity: 0.6
					});			                          

                    // Do the reset once right away to fit the diagram
                    panZoom.resize();
                    panZoom.fit();
                    panZoom.center();
                    
                    $(window).resize(function(){
                        panZoom.resize();
                        panZoom.fit();
                        panZoom.center();
                    });
				}
            });
        </script>
        
		
    
</body></html>